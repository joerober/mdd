---
mdd_data:
  openconfig-network-instance:network-instances:
    network-instance:
      - config:
          enabled: true
          name: default
          type: DEFAULT_INSTANCE
        name: default
        mpls:
          global:
            config:
              ttl-propagation: true
            interface-attributes:
              interface:
                - config:
                    interface-id: 'GigabitEthernet2'
                    mpls-enabled: true
                  interface-id: 'GigabitEthernet2'
                  interface-ref:
                    config:
                      interface: 'GigabitEthernet2'
                      subinterface: 0
                - config:
                    interface-id: 'GigabitEthernet3'
                    mpls-enabled: true
                  interface-id: 'GigabitEthernet3'
                  interface-ref:
                    config:
                      interface: 'GigabitEthernet3'
                      subinterface: 0
                - config:
                    interface-id: 'GigabitEthernet4'
                    mpls-enabled: true
                  interface-id: 'GigabitEthernet4'
                  interface-ref:
                    config:
                      interface: 'GigabitEthernet4'
                      subinterface: 0
                - config:
                    interface-id: 'GigabitEthernet5'
                    mpls-enabled: true
                  interface-id: 'GigabitEthernet5'
                  interface-ref:
                    config:
                      interface: 'GigabitEthernet5'
                      subinterface: 0
          signaling-protocols:
            ldp:
              global:
                config:
                  lsr-id: 10.255.255.1
                graceful-restart:
                  config:
                    enabled: false
              interface-attributes:
                config:
                  hello-holdtime: 15
                  hello-interval: 5
        protocols:
          protocol:
            - name: '100'
              identifier: 'OSPF'
              config:
                enabled: True
                identifier: 'OSPF'
                name: '100'
              ospfv2:
                global:
                  config:
                    router-id: '10.255.255.1'
                    log-adjacency-changes: True
                areas:
                  area:
                    - config:
                        identifier: 0
                      identifier: 0
                      interfaces:
                        interface:
                          - config:
                              id: 'Loopback0'
                              passive: True
                            id: 'Loopback0'
                          - config:
                              id: 'GigabitEthernet2'
                            id: 'GigabitEthernet2'
                          - config:
                              id: 'GigabitEthernet3'
                            id: 'GigabitEthernet3'
                          - config:
                              id: 'GigabitEthernet4'
                            id: 'GigabitEthernet4'
                          - config:
                              id: 'GigabitEthernet5'
                            id: 'GigabitEthernet5'

            - name: BGP
              identifier: BGP
              config:
                enabled: True
                identifier: BGP
                name: BGP
              bgp:
                global:
                  config:
                    as: 65100
                    router-id: 10.255.255.1
                  dynamic-neighbor-prefixes:
                    dynamic-neighbor-prefix:
                      - config:
                          peer-group: 'L3VPN_PEERS'
                          prefix: '10.255.255.0/24'
                        prefix: '10.255.255.0/24'
                  afi-safis:
                    afi-safi:
                      - afi-safi-name: 'L3VPN_IPV4_UNICAST'
                        config:
                          afi-safi-name: 'L3VPN_IPV4_UNICAST'
                          enabled: true
                peer-groups:
                  peer-group:
                    - config:
                        peer-group-name: 'L3VPN_PEERS'
                        peer-as: 65100
                        send-community: 'EXTENDED'
                      peer-group-name: 'L3VPN_PEERS'
                      transport:
                        config:
                          local-address: 'Loopback0'
                      afi-safis:
                        afi-safi:
                          - afi-safi-name: 'L3VPN_IPV4_UNICAST'
                            config:
                              afi-safi-name: 'L3VPN_IPV4_UNICAST'
                              enabled: true
                      route-reflector:
                        config:
                          route-reflector-client: True
                          route-reflector-cluster-id: '10.255.255.1'

mdd_tags:
- all
